---
import BaseLayout     from '@/layouts/BaseLayout.astro';
import Hero           from '@/components/landing/Hero.astro';
import ActionBlocks   from '@/components/landing/ActionBlocks.astro';
import CategoriesHome from '@/components/landing/CategoriesHome.astro';
import Howitworks     from '@/components/landing/Howitworks.astro';
import AllScope       from '@/components/landing/AllScope.astro';
import Testimonials   from '@/components/landing/Testimonials.astro';
import Pricing        from '@/components/landing/Pricing.astro';
import Faq            from '@/components/landing/Faq.astro';
import Cta            from '@/components/global/Cta.astro';

import { getCategories, getActionBlocks } from '@/lib/strapi';

const [categories, actionBlocks] = await Promise.all([
  getCategories(),
  getActionBlocks(),
]);
---
<BaseLayout>
  <Hero />

  <!-- Qualiopi badge + mention -->
  <div class="flex flex-col items-center mt-2 mb-12 px-4">
    <img
      src="/LogoQualiopi-150dpi-AvecMarianne.png"
      alt="Certification Qualiopi"
      class="h-16"
    />
    <p class="mt-4 text-center text-sm text-zinc-600">
      La certification qualité a été délivrée au titre des actions de formation.
    </p>
  </div>

  <!-- Blocs d'actions (dynamiques depuis Strapi) -->
  <ActionBlocks blocks={actionBlocks} />

  <!-- Blocs de catégories (Strapi) -->
  <CategoriesHome categories={categories} />

  <Howitworks />
  <AllScope />
  <Testimonials />
  <Pricing />
  <Faq />
  <Cta />
</BaseLayout>
