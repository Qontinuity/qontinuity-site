---
import BaseLayout     from '@/layouts/BaseLayout.astro';
import Hero           from '@/components/landing/Hero.astro';
import ActionBlocks   from '@/components/landing/ActionBlocks.astro';
import CategoriesHome from '@/components/landing/CategoriesHome.astro';
import Faq            from '@/components/landing/Faq.astro';
import { getFaqs } from '../lib/strapi';



// On importe aussi BASE pour le log
import { BASE, getCategories, getActionBlocks } from '@/lib/strapi';

// Affiche la valeur de BASE pour √™tre s√ªr qu‚Äôon pointe sur le bon Strapi
console.log('üîó Strapi Base URL =', BASE);

// On r√©cup√®re les donn√©es
const [categories, actionBlocks] = await Promise.all([
  getCategories(),
  getActionBlocks(),
]);
const faqs = await getFaqs();    // ‚Üê Ajout de l‚Äôappel √† getFaqs()

---
<BaseLayout>
  <Hero />

  <!-- Qualiopi badge + mention -->
  <div class="flex flex-col items-center mt-2 mb-12 px-4">
    <img
      src="/LogoQualiopi-150dpi-AvecMarianne.png"
      alt="Certification Qualiopi"
      class="h-16"
    />
    <p class="mt-4 text-center text-sm text-zinc-600">
      La certification qualit√© a √©t√© d√©livr√©e au titre des actions de formation.
    </p>
  </div>

  <!-- Blocs d'actions (dynamiques depuis Strapi) -->
  <ActionBlocks blocks={actionBlocks} />

 <h2 class="text-3xl tracking-tighter font-light lg:text-4xl text-black text-center">
        Nos univers de formation √† l'IA</span>
      </h2>

  <!-- Blocs de cat√©gories (Strapi) -->
  <CategoriesHome categories={categories} />
   <Faq faqs={faqs} />

</BaseLayout>
